<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>vue_study</title>
  <script src="http://www.jq22.com/jquery/vue.min.js"></script>
  <style>
    .active {

      background: green;
    }

  </style>
</head>

<body>
  <div id="app">
    <ul :class="{active:changes}" v-haha="hahaColor">
      <li v-for="(val,key) in fruitsArr">{{ val }}</li>
    </ul>
    <button @click="change()"></button>
  </div>

</body>
<script type="text/javascript">
  Vue.directive("haha", function (el, binding) {
    if (this.hahaColor) {
      el.style.background = "green";
    }
  })
  var vm = new Vue({
    el: "#app",
    data: {
      fruitsArr: ['apple', 'banana', 'orage', 'pear'],
      changes: false,
      hahaColor: true
    },
    methods: {
      change: function () {
        this.changes = !this.changes;
        this.hahaColor = !this.hahaColor;
      }
    }
  })

</script>

</html>
